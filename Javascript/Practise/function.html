
<!DOCTYPE html>
<html lang="vi">
    <head>
        <title>JS - function</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    </head> 
    <script>
        // reverse number
        var res;
        function reverse_num() {
            let t = document.getElementById('input').value;
            res = 0;
            if (t < 10) {
                res = t;
            } else {
                while (t > 9) {
                    res += t % 10;
                    t = Math.floor(t/10);
                    res *= 10;
                }
                res += t;
            }
            document.getElementById('result').innerHTML = res;
        }
        // find all substring
        var substr = "";
        function find_substr() {
            let str = document.getElementById('inputstr').value;
            let n = str.length;
            let sub;
            for (i = 0; i < n-1; i++) {
                sub = str[i];
                substr = substr + sub +',';
                for (j = i +1 ; j < n; j++) {
                    sub += str[j];
                    substr = substr + sub +',';
                }
            }
            substr += str[n-1];
            document.getElementById('substr').innerHTML = substr;
        }
        // sort string
        var sorted = "";
        function sort_str() {
            let str = document.getElementById('inputstr').value;
            let arr = str.split('');
            arr.sort();
            sorted = arr.join('');
            document.getElementById('substr').innerHTML = sorted;
        }
        
        // capital first
        function cap_word() {
            let res_str = [];
            let str = document.getElementById('inputstr').value;
            let arr = str.split(' ');
            let n = arr.length;
            i=0;
            while (i < n) {
                var word = arr[i].charAt(0).toUpperCase() + arr[i].slice(1);
                res_str.push(word);
                i++;
            }
            res_str = res_str.join(' ');
            document.getElementById('substr').innerHTML = res_str;
        }
        
        // binary search
        //var arr  = [51, 12, 5, 463, 68, -144, 215, 99, 0, -15];
        var arr = [5,1,9,2, 3, 8, 4];
        arr.sort();
        function binary_search(arr, val, left, right) {
          while (left <= right) {
              let mid = Math.round((left + right)/2);
              if (arr[mid] === val) {
                  return mid;
              } else if (arr[mid] < val) {
                  left = mid +1;
              } else {
                  right = mid -1;
              }
          }
          return -1;
        }
        arr.sort();
        var res = binary_search(arr, 9, 0, 8);

        // binary search - recursion
        function bin_search_rec(arr, val, left, right) {
            
            if (left > right) {
                return -1;
            }
            let mid = Math.round(left + right)/2;
            if (arr[mid] === val) {
                return mid;
            }
            if (arr[mid] < val) {
                return bin_search_rec(arr, val, mid +1, right);
            } else {
                return bin_search_rec(arr, val, left, mid-1);
            }
        }
        var x = bin_search_rec(arr, 3, 0, 6);
        // show function name
        function demo_func() {}
        function find_name(funct) {
            console.log(funct.name);
        }

        // check palindrome
        function check_palstr(str) {
            let j = str.length -1;
            let i = 0;
            str = str.toLowerCase();
            while (i <= j) {
                while (str[i].search(/[a-z]/i) == -1) {
                    i++;
                }
                while (str[j].search(/[a-z]/i) == -1) {
                    j--;
                }
                if (str[i] != str[j]) {
                    return false;
                } else {
                    i++;
                    j--;
                }
            }
            return true;
        }
        // opt2
        function isPalindrome(str) {
            str = str.replace(/\W/g, '').toLowerCase();
            return (str == str.split('').reverse().join(''));
        }
    </script>
    <body>
        Enter number: <input type="number" id='input'>
        <button onclick="reverse_num();">Reverse</button>
        <p id='result'><i>result will be displayed here</i></p>
        <br>
        Enter string: <input type="text" id='inputstr'><br><br>
        <button onclick="find_substr();">Find all substring</button><br><br>
        <button onclick="sort_str();">Sort in alphabet order</button><br><br>
        <button onclick="cap_word();">Capital first letter</button><br><br>


        <p id='substr'><i>result will be displayed here</i></p>

        
    </body>
</html>